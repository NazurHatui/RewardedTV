<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Helpers & Pets Marketplace — RewardedTV</title>
  <style>
    /* Base & Theme */
    *{margin:0;padding:0;box-sizing:border-box;}
    body{font-family:'Segoe UI',sans-serif;background:#0a0a0a;color:#e0e0e0;}
    a{color:inherit;text-decoration:none;}

    /* Marketplace Header */
    .market-header{
      display:flex;justify-content:space-between;align-items:center;
      padding:1rem 2rem;background:#111;position:sticky;top:0;z-index:10;
    }
    .market-header .title-wrapper{
      display:flex;align-items:center;
    }
    .market-logo{
      height:40px;
      margin:0 0.5rem;
    }
    .market-header h1{
      color:#9b59b6;font-size:1.75rem;
      text-shadow:0 0 8px rgba(155,89,182,0.7);
      margin:0;
    }
    .controls{display:flex;gap:1rem;}
    .controls select,input{
      background:#1c1c1c;border:1px solid #9b59b6;color:#e0e0e0;
      padding:0.5rem;border-radius:4px;
    }
    .balance-display{
      color:#f39c12;font-weight:500;
    }

    /* Grid Layout */
    .market-grid{padding:2rem;display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1.5rem;}

    /* Card Style */
    .card{
      background:#1c1c1c;border-radius:8px;overflow:hidden;position:relative;
      box-shadow:0 4px 16px rgba(0,0,0,0.5);transition:transform .2s;
    }
    .card:hover{transform:translateY(-5px);}
    .card img{width:100%;display:block;}
    .card-body{padding:1rem;display:flex;flex-direction:column;align-items:center;}
    .card-body h2{font-size:1.1rem;color:#f39c12;margin-bottom:0.5rem;}
    .card-body p{margin-bottom:0.75rem;font-size:0.9rem;color:#ccc;}
    .btn-buy{
      background:#9b59b6;color:#111;padding:0.5rem 1rem;border:none;border-radius:4px;
      cursor:pointer;width:100%;font-weight:500;text-transform:uppercase;
      box-shadow:0 0 8px rgba(155,89,182,0.6);
    }
    .btn-buy:hover{background:#8e44ad;}

    /* Neon Glow Overlay */
    .card::before{
      content:'';position:absolute;top:0;left:0;width:100%;height:100%;
      box-shadow:0 0 12px rgba(155,89,182,0.8) inset;
      opacity:0;transition:opacity .2s;
    }
    .card:hover::before{opacity:1;}
  </style>
</head>
<body>
  <header class="market-header">
    <div class="title-wrapper">
      <img src="assets/logo.png" alt="Logo Left" class="market-logo"/>
      <h1>Helpers &amp; Pets Marketplace</h1>
      <img src="assets/logo.png" alt="Logo Right" class="market-logo"/>
    </div>
    <div class="controls">
      <select>
        <option>All Types</option>
        <option>Helper</option>
        <option>Pet</option>
      </select>
      <select>
        <option>All Rarities</option>
        <option>Common</option>
        <option>Rare</option>
        <option>Epic</option>
      </select>
      <input type="text" placeholder="Search..." />
    </div>
    <div id="balanceDisplay" class="balance-display">$0.00</div>
  </header>

  <section class="market-grid">
    <!-- Example card; repeat for each asset -->
    <div class="card">
      <img src="assets/char1.jpeg" alt="Char 1" />
      <div class="card-body">
        <h2>Char 1</h2>
        <p>Price: 500 Credits</p>
        <button class="btn-buy" onclick="buy('char1', 500)">Buy Now</button>
      </div>
    </div>
    <!-- …more cards… -->
  </section>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
  <script>
    // ——— Your Firebase config ———
    const firebaseConfig = {
      apiKey: "AIzaSyAZJwv-o931FA_nRB68UiT7gHIuzx-e5rQ",
      authDomain: "rewardedtv-1e5b1.firebaseapp.com",
      projectId: "rewardedtv-1e5b1"
    };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db   = firebase.firestore();

    // Update balance display on auth state
    auth.onAuthStateChanged(user => {
      if (!user) return document.getElementById('balanceDisplay').innerText = '$0.00';
      db.collection('users').doc(user.uid).onSnapshot(doc => {
        const bal = (doc.data()?.balance || 0).toFixed(2);
        document.getElementById('balanceDisplay').innerText = '$' + bal;
      });
    });

    // Stub for buy button
    function buy(id, price) {
      alert(`Buying ${id} for ${price} credits!`);
      // …your purchase logic…
    }
  </script>
</body>
</html>
