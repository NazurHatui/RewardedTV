
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>RewardedTV - Store</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  
<style>
  body {
    background: #0d001a !important;
    margin: 0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: #c7a4ff;
    text-align: center;
  }
</style>
</head>
<body>
  <h1>üõçÔ∏è Welcome to Our Store</h1>
  <div class="store-grid">
    <div class="store-box"><h2>10% Reward Boost</h2><div class="price">$200</div><button class="buy-button">Buy Now</button></div>
    <div class="store-box"><h2>20% Reward Boost</h2><div class="price">$400</div><button class="buy-button">Buy Now</button></div>
    <div class="store-box"><h2>50% Reward Boost</h2><div class="price">$1250</div><button class="buy-button">Buy Now</button></div>
    <div class="store-box"><h2>100% Reward Boost</h2><div class="price">$1800</div><button class="buy-button">Buy Now</button></div>
    <div class="store-box"><h2>200% Reward Boost</h2><div class="price">$2500</div><button class="buy-button">Buy Now</button></div>
    <div class="store-box"><h2>500% Reward Boost</h2><div class="price">$3500</div><button class="buy-button">Buy Now</button></div>
    <div class="store-box"><h2>100 CAP</h2><div class="price">$500</div><button class="buy-button">Buy Now</button></div>
    <div class="store-box"><h2>200 CAP</h2><div class="price">$1000</div><button class="buy-button">Buy Now</button></div>
    <div class="store-box"><h2>500 CAP</h2><div class="price">$1500</div><button class="buy-button">Buy Now</button></div>
    <div class="store-box"><h2>1000 CAP</h2><div class="price">$2000</div><button class="buy-button">Buy Now</button></div>
  </div>

<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
<script>
  const firebaseConfig = {
    apiKey: "AIzaSyAZJwv-o931FA_nRB68UiT7gHIuzx-e5rQ",
    authDomain: "rewardedtv-1e5b1.firebaseapp.com",
    projectId: "rewardedtv-1e5b1",
  };
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
  const db = firebase.firestore();

  auth.onAuthStateChanged(user => {
    if (!user) {
      alert("Please log in to make purchases.");
      return;
    }

    const buyButtons = document.querySelectorAll(".buy-button");
    buyButtons.forEach((btn, index) => {
      btn.addEventListener("click", () => {
        const prices = [200, 400, 1250, 1800, 2500, 3500, 500, 1000, 1500, 2000];
        const price = prices[index];
        const ref = db.collection("users").doc(user.uid);

        ref.get().then(doc => {
          const data = doc.data();
          const balance = data.balance || 0;
          if (balance < price) {
            alert("‚ùå Not enough balance to complete this purchase.");
          } else {
            ref.update({ balance: balance - price }).then(() => {
              alert("‚úÖ Purchase complete!");
            });
          }
        });
      });
    });
  });
</script>
</body>

</html>
